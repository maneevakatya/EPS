$(document).ready(function(event) {
  window.sf = {},
    window.sf.form = {
      init: function() {
        var o = this;
        $(".request__input--phone").keydown(function(e) {
            -1 !== $.inArray(e.keyCode, [
              46,
              8,
              9,
              27,
              13,
              110,
              190
            ]) || 65 == e.keyCode && (!0 === e.ctrlKey || !0 === e.metaKey) || 35 <= e.keyCode && e.keyCode <= 40 || (e.shiftKey || e.keyCode < 48 || 57 < e.keyCode) && (e.keyCode < 96 || 105 < e.keyCode) && e.preventDefault()
          }),
          $(".request__input--phone").inputmask("+7 (999) 999 - 99 - 99", {
            placeholder: " ",
            showMaskOnHover: !1,
            showMaskOnFocus: !1
          }),
          $(".request__form").submit(function(e) {
            if (!o.checkForm($(this)))
              return !1
          })
      },
      checkForm: function(e) {
        var o = !0;
        return e.find(".warning").removeClass("warning"),
          e.find("input, textarea, select").each(function() {
            if ($(this).data("req"))
              switch ($(this).data("type")) {
                case "mobile":
                  $.trim($(this).val()).length < 22 && ($(this).addClass("warning"), o = !1);
                  break;
                default:
                  "" === $.trim($(this).val()) && ($(this).addClass("warning"), o = !1)
              }
          }),
          o
      }
    }.init(),
    window.sf.contacts = {
      bindEvents: function() {
        var s = {
          scrollwheel: !1,
          center: "",
          zoomControl: !0,
          disableDefaultUI: !0,
          mapTypeControlOptions: {
            mapTypeIds: [google.maps.MapTypeId.ROADMAP, "map_style"]
          },
          zoomControlOptions: {
            position: google.maps.ControlPosition.LEFT_TOP
          },
          streetViewControlOptions: {
            position: google.maps.ControlPosition.LEFT_BOTTOM
          }
        };
        s.center = new google.maps.LatLng(54.793028, 38.266201);
        var a,
          r = new google.maps.MarkerImage("assets/img/map-pin.png", new google.maps.Size(101, 71), new google.maps.Point(0, 0), new google.maps.Point(10, 80)),
          p = new google.maps.DirectionsService;
        a = new google.maps.DirectionsRenderer;
        new google.maps.LatLng(54.513845, 36.261215);
        var l = new google.maps.LatLng(54.793028, 38.266201),
          e = new google.maps.Map(document.getElementById("contactsmap"), s);
        a.setMap(e),
          a.setOptions({
            suppressMarkers: !0,
            preserveViewport: !0
          }),
          $(window).width() <= 900 ?
          (s.center = new google.maps.LatLng(54.793028, 38.266201), e.setZoom(7)) :
          $(window).width() <= 1200 ?
          e.setZoom(8) :
          $(window).width() <= 1550 ?
          e.setZoom(8) :
          e.setZoom(9);
        new google.maps.Marker({
          position: l,
          map: e,
          icon: r
        });
        $(".map__routes-btn").on("click", function(e) {
          var o = $(this).data("map"),
            t = $(this).data("centr").split(",");
          $(window).width() <= 900 ?
            s.center = new google.maps.LatLng(54.793028, 38.266201) :
            s.center = new google.maps.LatLng(t[0], t[1]);
          var n = new google.maps.Map(document.getElementById("contactsmap"), s);
          a.setMap(n),
            a.setOptions({
              suppressMarkers: !0,
              preserveViewport: !0
            }),
            $(window).width() <= 900 ?
            (s.center = new google.maps.LatLng(54.793028, 38.266201), n.setZoom(9)) :
            $(window).width() <= 1200 ?
            n.setZoom(8) :
            $(window).width() <= 1550 ?
            n.setZoom(8) :
            n.setZoom(9);
          new google.maps.Marker({
            position: l,
            map: n,
            icon: r
          });
          var i = {
            origin: o,
            destination: l,
            travelMode: "DRIVING"
          };
          p.route(i, function(e, o) {
            if ("OK" == o) {
              a.getMap();
              a.setDirections(e)
            }
          })
        })
      },
      init: function() {
        $("#contactsmap").length && this.bindEvents()
      }
    }.init(),
    $(".nav__link").click(function(e) {
			if ($('body').hasClass('index')) {
				e.preventDefault();
				var o = $(this).attr("href").substr(1),
				t = $(o).offset().top;
				$("html, body").animate({
					scrollTop: t - 50
				}, 1500),
				$(window).width() <= 1024 && $(".nav__list").slideToggle();
			}
    }),
    $(".burger-menu").click(function() {
      $(".nav__list").slideToggle()
    }),
    $(".slide").owlCarousel({
      nav: !1,
      dots: !0,
      margin: 50,
      autoWidth: !0,
      navSpeed: 1500
    })
		if (location.hash != '') {
			setTimeout(function(){
				var _this = location.hash;
						t = $(_this).offset().top;
				$("html, body").animate({
					scrollTop: t - 50
				}, 1000)
			}, 500)
		}
});
